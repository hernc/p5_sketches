var doc = app.activeDocument;var segments = 1000;var segmentSize = 10;brownianLine(doc, segments, segmentSize);function brownianLine(parent, segments, segmentSize) {  $.writeln("brownianLine");  var x = 0;  var y = 0;  var points = [];  for (i = 0; i < segments; i++) {    points.push([x, y]);    x += roundTo(random(-segmentSize, segmentSize), segmentSize);    y += roundTo(random(-segmentSize, segmentSize), segmentSize);  }  var p = parent.pathItems.add();  p.setEntirePath(points);  return p;}function random(min, max) {  return Math.random() * (max - min) + min;}function roundTo(value, grid) {  return Math.round(value / grid) * grid;}